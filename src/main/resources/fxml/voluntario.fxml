<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="br.com.oficinas.gestaooficinas.fx.controller.VoluntarioController"
            prefWidth="1100" prefHeight="750">

    <top>
        <ToolBar styleClass="toolbar">
            <Button text="Sair" onAction="#onLogout"/>
            <Label text=" | "/>
            <Label fx:id="headerLabel"/>
        </ToolBar>
    </top>

    <center>
        <TabPane tabClosingPolicy="UNAVAILABLE" prefWidth="1100" prefHeight="720">
            <tabs>

                <!-- PERFIL -->
                <Tab text="Meu Perfil" closable="false">
                    <VBox spacing="12" styleClass="card">
                        <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>

                        <GridPane hgap="8" vgap="8">
                            <Label text="Nome:"  GridPane.rowIndex="0" GridPane.columnIndex="0"/>
                            <TextField fx:id="nomeField" GridPane.rowIndex="0" GridPane.columnIndex="1" />

                            <Label text="E-mail:" GridPane.rowIndex="1" GridPane.columnIndex="0"/>
                            <TextField fx:id="emailField" GridPane.rowIndex="1" GridPane.columnIndex="1" editable="false"/>

                            <Label text="Idade:" GridPane.rowIndex="2" GridPane.columnIndex="0"/>
                            <TextField fx:id="idadeField" GridPane.rowIndex="2" GridPane.columnIndex="1" />

                            <Label text="Especialidade:" GridPane.rowIndex="3" GridPane.columnIndex="0"/>
                            <ComboBox fx:id="especialidadeBox" GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                            <Button text="Salvar Perfil" onAction="#onSalvarPerfil"
                                    GridPane.rowIndex="4" GridPane.columnIndex="1" maxWidth="Infinity" styleClass="primary-btn"/>
                        </GridPane>

                        <Label fx:id="perfilMsg"/>
                    </VBox>
                </Tab>

                <!-- MINHA OFICINA -->
                <Tab text="Minha Oficina" closable="false">
                    <VBox spacing="12" styleClass="card">
                        <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>

                        <Label fx:id="afiliadoLabel" styleClass="pill"/>

                        <Label text="Escolha uma oficina para se afiliar ou clique em 'Desafiliar'."/>
                        <TableView fx:id="oficinasTable" prefHeight="260">
                            <columns>
                                <TableColumn fx:id="colOfId"     text="ID"        prefWidth="80"/>
                                <TableColumn fx:id="colOfNome"   text="Nome"      prefWidth="260"/>
                                <TableColumn fx:id="colOfCidade" text="Cidade/UF" prefWidth="240"/>
                            </columns>
                        </TableView>

                        <HBox spacing="8">
                            <TextField fx:id="oficinaIdField" promptText="ID da oficina"/>
                            <Button text="Afiliar"   onAction="#onAfiliar"   styleClass="primary-btn"/>
                            <Button text="Desafiliar" onAction="#onDesafiliar" styleClass="danger-btn"/>
                        </HBox>

                        <Label fx:id="afiliacaoMsg"/>
                    </VBox>
                </Tab>

                <!-- DISPONIBILIDADE -->
                <Tab text="Disponibilidade" closable="false">
                    <VBox spacing="12" styleClass="card">
                        <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>

                        <TableView fx:id="dispTable" prefHeight="260">
                            <columns>
                                <TableColumn fx:id="colDia"    text="Dia"    prefWidth="160"/>
                                <TableColumn fx:id="colIni"    text="InÃ­cio" prefWidth="160"/>
                                <TableColumn fx:id="colFim"    text="Fim"    prefWidth="160"/>
                                <TableColumn fx:id="colDispId" text="ID"     prefWidth="80"/>
                            </columns>
                        </TableView>

                        <HBox spacing="8">
                            <TextField fx:id="diaField" promptText="1=SEG ... 7=DOM"/>
                            <TextField fx:id="iniField" promptText="HH:MM"/>
                            <TextField fx:id="fimField" promptText="HH:MM"/>
                            <Button text="Adicionar" onAction="#onAddDisp" styleClass="primary-btn"/>
                            <!-- <Button text="Adicionar p/ todos os dias" onAction="#onAddDispSemana"/> -->
                        </HBox>

                        <HBox spacing="8">
                            <CheckBox fx:id="selectAllDisp" text="Selecionar todas" onAction="#onToggleSelectAllDisp"/>
                            <Button text="Remover selecionadas" onAction="#onRemoverSelecionadas" styleClass="danger-btn"/>
                        </HBox>

                        <Label fx:id="dispMsg"/>
                    </VBox>
                </Tab>

                <!-- MEUS AGENDAMENTOS -->
                <Tab text="Meus Agendamentos" closable="false">
                    <VBox spacing="12" styleClass="card">
                        <padding><Insets top="16" right="16" bottom="16" left="16"/></padding>

                        <TableView fx:id="agTable" prefHeight="320">
                            <columns>
                                <TableColumn fx:id="colId"    text="ID"        prefWidth="70"/>
                                <TableColumn fx:id="colData"  text="Data/Hora" prefWidth="200"/>
                                <TableColumn fx:id="colItem"  text="Item"      prefWidth="420"/>
                                <TableColumn fx:id="colStatus" text="Status"   prefWidth="160"/>
                            </columns>
                        </TableView>

                        <HBox spacing="8">
                            <TextField fx:id="agIdField" promptText="ID do agendamento"/>
                            <ComboBox fx:id="statusBox"/>
                            <Button text="Atualizar" onAction="#onAtualizarStatus" styleClass="primary-btn"/>
                        </HBox>

                        <Label fx:id="agMsg"/>
                    </VBox>
                </Tab>

            </tabs>
        </TabPane>
    </center>
</BorderPane>
